--- src/config.h	2025-11-20 00:04:10
+++ src/config.h.org	2025-11-20 00:04:04
@@ -26,6 +26,9 @@
  * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  * POSSIBILITY OF SUCH DAMAGE.
  */
+#ifndef __has_attribute
+#define __has_attribute(x) 0
+#endif
 
 #ifndef CONFIG_H
 #define CONFIG_H
@@ -216,11 +219,12 @@
 #include <sys/types.h> /* This will likely define BYTE_ORDER */
 
 #ifndef BYTE_ORDER
-#if (BSD >= 199103)
+#if defined(BSD) && (BSD >= 199103)
 #include <machine/endian.h>
 #else
 #if defined(linux) || defined(__linux__)
 #include <endian.h>
+
 #else
 #define LITTLE_ENDIAN 1234 /* least-significant byte first (vax, pc) */
 #define BIG_ENDIAN 4321    /* most-significant byte first (IBM, net) */
@@ -375,7 +379,7 @@
 #endif
 
 /* Check if we can compile x86 SIMD code */
-#if defined(__x86_64__) && ((defined(__GNUC__) && __GNUC__ >= 5) || (defined(__clang__) && __clang_major__ >= 4)) && defined(__has_attribute) && __has_attribute(target)
+#if defined(__x86_64__) && ((defined(__GNUC__) && __GNUC__ >= 5) || (defined(__clang__) && __clang_major__ >= 4)) && __has_attribute(target)
 #define HAVE_X86_SIMD 1
 #else
 #define HAVE_X86_SIMD 0